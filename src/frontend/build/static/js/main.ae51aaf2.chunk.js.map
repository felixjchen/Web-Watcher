{"version":3,"sources":["components/threetree_90.png","components/login.js","components/page.js","index.js"],"names":["module","exports","__webpack_require__","p","Login","props","react_default","a","createElement","id","Header","aria-label","HeaderName","href","prefix","Grid","Row","Column","sm","span","offset","md","lg","className","TextInput","labelText","onKeyPress","event","key","loginHandler","PasswordInput","Button","size","kind","onClick","signupHandler","src","fractel","alt","toSeconds","everyHour","every6Hours","every12Hours","every24Hours","fromSeconds","3600","21600","43200","86400","headers","header","Page","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateWatchers","asyncToGenerator","regenerator_default","mark","_callee","requestOptions","response","responseText","_JSON$parse","watchers","oldState","wrap","_context","prev","next","credentials","fetch","concat","gatewayAddress","sent","text","JSON","parse","forEach","i","date","Date","setUTCSeconds","last_run","String","slice","state","setState","stop","deleteWatcher","_ref2","_callee2","watcherId","_context2","method","Content-Type","body","stringify","redirect","_x","apply","arguments","openModal","addWatcherModalOpen","closeModal","submitModal","_callee3","url","frequency","options","_context3","document","getElementById","value","window","RadioButtonGroup","selected","_this2","HeaderContainer","render","Fragment","HeaderGlobalBar","HeaderGlobalAction","logoutHandler","bucket_10","DataTable","rows","isSortable","_ref4","getHeaderProps","getRowProps","getTableProps","getToolbarProps","onInputChange","getTableContainerProps","TableContainer","assign","title","email","TableToolbar","TableToolbarContent","TableToolbarSearch","onChange","Table","TableHead","TableRow","map","TableHeader","TableBody","row","TableCell","cells","style","display","Link","OverflowMenu","flipped","OverflowMenuItem","itemText","hasDivider","isDelete","Modal","hasForm","selectorPrimaryFocus","open","primaryButtonText","secondaryButtonText","shouldSubmitOnEnter","onRequestClose","onRequestSubmit","onSecondarySubmit","placeholder","marginBottom","FormGroup","legendText","defaultSelected","name","ref","RadioButton","React","Component","silentRefreshTimeout","login","_ref","password","success","accessTokenExpiry","console","log","Loading","setTimeout","silentRefresh","components_page","logout","alert","components_login","signup","_ref3","clearTimeout","abrupt","_ref5","_callee4","_JSON$parse2","_context4","initialSilentRefresh","_ref6","_callee5","_context5","t0"],"mappings":"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","file":"static/js/main.ae51aaf2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/threetree_90.8428407b.png\";","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  Grid,\n  Row,\n  Column,\n  Button,\n  TextInput,\n} from \"carbon-components-react\";\nimport \"./login.css\";\nimport fractel from \"./threetree_90.png\";\n\nconst Login = (props) => (\n  <div id=\"login\">\n    <Header aria-label=\"header\">\n      <HeaderName href=\"https://github.com/felixjchen/web-watcher\" prefix=\"Web\">\n        Watcher\n      </HeaderName>\n    </Header>\n    <Grid>\n      <Row>\n        <Column\n          id=\"leftBox\"\n          sm={{ span: 4, offset: 0 }}\n          md={{ span: 4, offset: 1 }}\n          lg={{ span: 4, offset: 2 }}\n        >\n          <h1 className=\"bx--type-semibold\">Sign in to your account</h1>\n          <TextInput \n          id=\"email\" \n          labelText=\"Email\" \n          onKeyPress={(event) => {\n            if (event.key === \"Enter\") {\n              props.loginHandler({})\n            }\n          }}\n          />\n          <TextInput.PasswordInput \n          id=\"password\" \n          labelText=\"Password\" \n          onKeyPress={(event) => {\n            if (event.key === \"Enter\") {\n              props.loginHandler({})\n            }\n          }}\n          />\n          <Button size=\"small\" kind=\"secondary\" onClick={props.signupHandler}>\n            Sign up\n          </Button>\n          <Button size=\"small\" onClick={props.loginHandler}>\n            Log in\n          </Button>\n        </Column>\n        <Column\n          id=\"rightBox\"\n          sm={{ span: 0 }}\n          md={{ span: 2 }}\n          lg={{ span: 4 }}\n        >\n          <img src={fractel} alt=\"fractel\"></img>\n        </Column>\n      </Row>\n    </Grid>\n  </div>\n);\n\nexport default Login;\n","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  HeaderContainer,\n  HeaderGlobalBar,\n  HeaderGlobalAction,\n  TableContainer,\n  Table,\n  TableHead,\n  TableRow,\n  TableHeader,\n  TableBody,\n  TableCell,\n  TableToolbar,\n  TableToolbarContent,\n  TableToolbarSearch,\n  DataTable,\n  Button,\n  OverflowMenu,\n  OverflowMenuItem,\n  TextInput,\n  Modal,\n  Link,\n  RadioButton,\n  RadioButtonGroup,\n  FormGroup,\n} from \"carbon-components-react\";\nimport { Logout20 } from \"@carbon/icons-react\";\nimport \"./page.css\";\n\nconst toSeconds = {\n  everyHour: 3600,\n  every6Hours: 21600,\n  every12Hours: 43200,\n  every24Hours: 86400,\n};\n\nconst fromSeconds = {\n  3600: \"every hour\",\n  21600: \"every 6 hours\",\n  43200: \"every 12 hours\",\n  86400: \"every 24 hours\",\n};\nconst headers = [\n  {\n    key: \"url\",\n    header: \"URL\",\n  },\n  {\n    key: \"frequency\",\n    header: \"Frequency\",\n  },\n  {\n    key: \"last_run\",\n    header: \"Last Run\",\n  },\n  {\n    key: \"options\",\n    header: \"\",\n  },\n];\n\nclass Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addWatcherModalOpen: false,\n      watchers: [],\n    };\n\n    this.updateWatchers();\n  }\n\n  updateWatchers = async () => {\n    let requestOptions = {\n      credentials: \"include\",\n    };\n\n    let response = await fetch(\n      `${this.props.gatewayAddress}/user`,\n      requestOptions\n    );\n    let responseText = await response.text();\n\n    let { watchers } = JSON.parse(responseText);\n    // Cleanup Date\n    watchers.forEach((i) => {\n      let date = new Date(0);\n      date.setUTCSeconds(i.last_run);\n      i.last_run = String(date).slice(0, 24);\n    });\n\n    let oldState = this.state;\n    oldState.watchers = watchers;\n    this.setState(oldState);\n  };\n\n  deleteWatcher = async (watcherId) => {\n    let requestOptions = {\n      method: \"DELETE\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ watcherId }),\n      redirect: \"follow\",\n    };\n\n    await fetch(`${this.props.gatewayAddress}/watcher`, requestOptions);\n    this.updateWatchers();\n  };\n\n  openModal = () => {\n    let oldState = this.state;\n    oldState.addWatcherModalOpen = true;\n    this.setState(oldState);\n  };\n  closeModal = () => {\n    let oldState = this.state;\n    oldState.addWatcherModalOpen = false;\n    this.setState(oldState);\n  };\n  submitModal = async () => {\n    let url = document.getElementById(\"modalUrl\").value;\n\n    let frequency = toSeconds[window.RadioButtonGroup.state.selected];\n    let options = {\n      method: \"POST\",\n      credentials: \"include\",\n      body: JSON.stringify({ url, frequency }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      redirect: \"follow\",\n    };\n\n    let oldState = this.state;\n    oldState.addWatcherModalOpen = false;\n    this.setState(oldState);\n\n    await fetch(\n      \"https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod/watcher\",\n      options\n    );\n    this.updateWatchers();\n  };\n\n  render() {\n    return (\n      <div id=\"page\">\n        <HeaderContainer\n          render={() => (\n            <>\n              <Header aria-label=\"IBM Platform Name\">\n                <HeaderName\n                  // href=\"https://github.com/felixjchen/web-watcher\"\n                  prefix=\"Web\"\n                >\n                  Watcher\n                </HeaderName>\n                <HeaderGlobalBar>\n                  <HeaderGlobalAction\n                    id=\"logoutIcon\"\n                    aria-label=\"Logout\"\n                    onClick={this.props.logoutHandler}\n                  >\n                    <Logout20 />\n                  </HeaderGlobalAction>\n                </HeaderGlobalBar>\n              </Header>\n            </>\n          )}\n        />\n\n        <DataTable rows={this.state.watchers} headers={headers} isSortable>\n          {({\n            rows,\n            headers,\n            getHeaderProps,\n            getRowProps,\n            getTableProps,\n            getToolbarProps,\n            onInputChange,\n            getTableContainerProps,\n          }) => (\n            <TableContainer\n              title={`Welcome ${this.props.email}`}\n              // description={`Welcome ${props.email}`}\n              {...getTableContainerProps()}\n            >\n              <TableToolbar\n                {...getToolbarProps()}\n                aria-label=\"data table toolbar\"\n              >\n                <TableToolbarContent>\n                  <TableToolbarSearch onChange={onInputChange} />\n                  <Button onClick={this.openModal}>Add Watcher</Button>\n                </TableToolbarContent>\n              </TableToolbar>\n              <Table {...getTableProps()}>\n                <TableHead>\n                  <TableRow>\n                    {headers.map((header) => (\n                      <TableHeader\n                        key={header.key}\n                        {...getHeaderProps({\n                          header,\n                          isSortable: header.key !== \"options\",\n                        })}\n                      >\n                        {header.header}\n                      </TableHeader>\n                    ))}\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {rows.map((row) => {\n                    return (\n                      <TableRow key={row.id} {...getRowProps({ row })}>\n                        <TableCell key={row.cells[0].id}>\n                          <p style={{ display: \"none\" }}>\n                            {row.cells[0].value}\n                          </p>\n                          <Link href={row.cells[0].value}>\n                            {row.cells[0].value}\n                          </Link>\n                        </TableCell>\n                        <TableCell key={row.cells[1].id}>\n                          {row.cells[1].value in fromSeconds\n                            ? fromSeconds[row.cells[1].value]\n                            : row.cells[1].value}\n                        </TableCell>\n                        <TableCell key={row.cells[2].id}>\n                          {row.cells[2].value}\n                        </TableCell>\n                        <TableCell key={row.cells[3].id}>\n                          {row.cells[3].value}\n                          <OverflowMenu flipped={true}>\n                            {/* <OverflowMenuItem itemText=\"Edit\" /> */}\n                            <OverflowMenuItem\n                              itemText=\"Delete\"\n                              hasDivider\n                              isDelete\n                              onClick={() => {\n                                this.deleteWatcher(row.id);\n                              }}\n                            />\n                          </OverflowMenu>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          )}\n        </DataTable>\n        <Modal\n          hasForm\n          size={\"sm\"}\n          selectorPrimaryFocus=\"#text-input-2\"\n          open={this.state.addWatcherModalOpen}\n          primaryButtonText={\"Add\"}\n          secondaryButtonText={\"Cancel\"}\n          shouldSubmitOnEnter={true}\n          onRequestClose={this.closeModal}\n          onRequestSubmit={this.submitModal}\n          onSecondarySubmit={this.closeModal}\n        >\n          <TextInput\n            id=\"modalUrl\"\n            labelText=\"URL\"\n            placeholder=\"https://www.google.com/\"\n            style={{ marginBottom: \"1rem\" }}\n          />\n          <FormGroup legendText=\"Frequency\">\n            <RadioButtonGroup\n              defaultSelected=\"everyHour\"\n              name=\"frequency\"\n              ref={(RadioButtonGroup) => {\n                window.RadioButtonGroup = RadioButtonGroup;\n              }}\n            >\n              <RadioButton\n                labelText=\"every hour\"\n                value=\"everyHour\"\n                id=\"radio-1\"\n              />\n              <RadioButton\n                labelText=\"every 6 hours\"\n                value=\"every6Hours\"\n                id=\"radio-2\"\n              />\n              <RadioButton\n                labelText=\"every 12 hours\"\n                value=\"every12Hours\"\n                id=\"radio-3\"\n              />\n              <RadioButton\n                labelText=\"every 24 hours\"\n                value=\"every24Hours\"\n                id=\"radio-4\"\n              />\n            </RadioButtonGroup>\n          </FormGroup>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Page;\n","import React from \"react\";\nimport { Loading } from \"carbon-components-react\";\nimport { render } from \"react-dom\";\n\nimport Login from \"./components/login\";\nimport Page from \"./components/page\";\n\nconst gatewayAddress =\n  \"https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod\";\nlet silentRefreshTimeout = null;\n\nlet login = async ({ email, password }) => {\n  if (email == null) {\n    email = document.getElementById(\"email\").value;\n  }\n  if (password == null) {\n    password = document.getElementById(\"password\").value;\n  }\n\n  console.log(email, password)\n\n  render(<Loading />, document.getElementById(\"root\"));\n\n  let options = {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ email, password }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/login`, options);\n  let responseText = await response.text();\n  let { success, accessTokenExpiry } = JSON.parse(responseText);\n\n  console.log(responseText);\n  if (!success) {\n    alert(\"Login failed: username/password error\");\n    render(\n      <Login signupHandler={signup} loginHandler={login} />,\n      document.getElementById(\"root\")\n    );\n  } else {\n    silentRefreshTimeout = setTimeout(\n      silentRefresh,\n      (accessTokenExpiry - 2) * 1000\n    );\n    render(\n      <Page email={email} gatewayAddress={gatewayAddress} logoutHandler={logout} />,\n      document.getElementById(\"root\")\n    );\n  }\n};\n\nlet logout = async () => {\n  var requestOptions = {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/logout`, requestOptions);\n  let responseText = await response.text();\n  render(\n    <Login signupHandler={signup} loginHandler={login} />,\n    document.getElementById(\"root\")\n  );\n\n  // Stop silent refresh\n  clearTimeout(silentRefreshTimeout);\n\n  return JSON.parse(responseText).success;\n};\n\nlet signup = async () => {\n  let email = document.getElementById(\"email\").value;\n  let password = document.getElementById(\"password\").value;\n\n  render(<Loading />, document.getElementById(\"root\"));\n\n  let options = {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ email, password }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/user`, options);\n  let responseText = await response.text();\n  console.log(responseText);\n\n  login({ email, password });\n};\n\n\nlet silentRefresh = async () => {\n  let requestOptions = {\n    method: \"POST\",\n    credentials: \"include\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/refresh`, requestOptions);\n  let responseText = await response.text();\n  let { success, accessTokenExpiry, email } = JSON.parse(responseText);\n  // If something is wrong with refresh token.. we logout\n  if (!success) {\n    await logout();\n  } else {\n    // Start silent refresh a couple seconds early... so we always have an access token\n    silentRefreshTimeout = setTimeout(\n      silentRefresh,\n      (accessTokenExpiry - 2) * 1000\n    );\n    render(\n      <Page email={email} gatewayAddress={gatewayAddress} logoutHandler={logout} />,\n      document.getElementById(\"root\")\n    );\n  }\n\n  return success;\n};\n\nlet initialSilentRefresh = async () => {\n  try {\n    await silentRefresh();\n  } catch (err) {\n    console.log(\"Initial silent refresh fail \" + err);\n  }\n};\n\nrender(<Loading />, document.getElementById(\"root\"));\ninitialSilentRefresh();\n"],"sourceRoot":""}
{"version":3,"sources":["components/threetree_90.png","components/login.js","components/page.js","index.js"],"names":["module","exports","__webpack_require__","p","Login","props","react_default","a","createElement","id","Header","aria-label","HeaderName","href","prefix","Grid","Row","Column","sm","span","offset","md","lg","className","TextInput","labelText","PasswordInput","Button","size","onClick","handler","src","fractel","alt","Page","HeaderContainer","render","_ref","isSideNavExpanded","onClickSideNavExpand","Fragment","HeaderMenuButton","isCollapsible","isActive","HeaderNavigation","HeaderMenuItem","HeaderMenu","menuLinkName","HeaderGlobalBar","SideNav","isRail","expanded","SideNavItems","SideNavMenu","renderIcon","Fade16","title","SideNavMenuItem","aria-current","SideNavLink","getProfile","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","method","headers","Accept","Content-Type","credentials","then","response","text","result","console","log","catch","error","stop","apply","this","arguments","loginButtonClickHandler","_ref2","_callee2","payload","options","resopnseText","_JSON$parse","success","accessToken","accessTokenExpiry","refreshTokenExpiry","refreshToken","_context2","document","getElementById","value","email","password","body","JSON","stringify","redirect","concat","sent","parse","components_page","alert","components_login"],"mappings":"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","file":"static/js/main.870a1e10.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/threetree_90.8428407b.png\";","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  Grid,\n  Row,\n  Column,\n  Button,\n  TextInput,\n} from \"carbon-components-react\";\nimport \"./login.css\";\nimport fractel from \"./threetree_90.png\";\n\nconst Login = (props) => (\n  <div id=\"login\">\n    <Header aria-label=\"header\">\n      <HeaderName href=\"#\" prefix=\"FC\">\n        Watcher\n      </HeaderName>\n    </Header>\n    <Grid>\n      <Row>\n        <Column\n          id=\"leftBox\"\n          sm={{ span: 4, offset: 0 }}\n          md={{ span: 4, offset: 1 }}\n          lg={{ span: 4, offset: 2 }}\n        >\n          <h1 className=\"bx--type-semibold\">Sign in to your account</h1>\n          <TextInput id=\"email\" labelText=\"Email\" />\n          <TextInput.PasswordInput id=\"password\" labelText=\"Password\" />\n          <Button size=\"small\" onClick={props.handler}>\n            Log in\n          </Button>\n        </Column>\n        <Column\n          id=\"rightBox\"\n          sm={{ span: 0 }}\n          md={{ span: 2 }}\n          lg={{ span: 4 }}\n        >\n          <img src={fractel} alt=\"fractel\"></img>\n        </Column>\n      </Row>\n    </Grid>\n  </div>\n);\n\nexport default Login;\n","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  HeaderNavigation,\n  HeaderMenu,\n  HeaderMenuItem,\n  HeaderMenuButton,\n  HeaderContainer,\n  HeaderGlobalBar,\n  SideNav,\n  SideNavMenuItem,\n  SideNavItems,\n  SideNavLink,\n  SideNavMenu,\n} from \"carbon-components-react\";\nimport { Fade16 } from \"@carbon/icons-react\";\nimport \"./page.css\";\n\nconst Page = () => (\n  <div id=\"page\">\n    <HeaderContainer\n      render={({ isSideNavExpanded, onClickSideNavExpand }) => (\n        <>\n          <Header aria-label=\"IBM Platform Name\">\n            <HeaderMenuButton\n              aria-label=\"Open menu\"\n              isCollapsible\n              onClick={onClickSideNavExpand}\n              isActive={isSideNavExpanded}\n            />\n            <HeaderName href=\"#\" prefix=\"FC\">\n              Watcher\n            </HeaderName>\n            <HeaderNavigation aria-label=\"FC Watcher\">\n              <HeaderMenuItem href=\"#\">Link 1</HeaderMenuItem>\n              <HeaderMenuItem href=\"#\">Link 2</HeaderMenuItem>\n\n              <HeaderMenu aria-label=\"Link 3\" menuLinkName=\"Link 3\">\n                <HeaderMenuItem href=\"#one\">Sub-link 1</HeaderMenuItem>\n                <HeaderMenuItem href=\"#two\">Sub-link 2</HeaderMenuItem>\n                <HeaderMenuItem href=\"#three\">Sub-link 3</HeaderMenuItem>\n              </HeaderMenu>\n            </HeaderNavigation>\n            <HeaderGlobalBar>Welcome</HeaderGlobalBar>\n            <SideNav\n              aria-label=\"Side navigation\"\n              isRail\n              expanded={isSideNavExpanded}\n            >\n              <SideNavItems>\n                <SideNavMenu renderIcon={Fade16} title=\"Category title\">\n                  <SideNavMenuItem\n                    aria-current=\"page\"\n                    href=\"javascript:void(0)\"\n                  >\n                    Link\n                  </SideNavMenuItem>\n                  <SideNavMenuItem href=\"javascript:void(0)\">\n                    Link\n                  </SideNavMenuItem>\n                  <SideNavMenuItem href=\"javascript:void(0)\">\n                    Link\n                  </SideNavMenuItem>\n                </SideNavMenu>\n                <SideNavLink\n                  aria-current=\"page\"\n                  renderIcon={Fade16}\n                  href=\"javascript:void(0)\"\n                >\n                  Link\n                </SideNavLink>\n                <SideNavLink renderIcon={Fade16} href=\"javascript:void(0)\">\n                  Link\n                </SideNavLink>\n              </SideNavItems>\n            </SideNav>\n          </Header>\n        </>\n      )}\n    />\n  </div>\n);\n\nexport default Page;\n","import React from \"react\";\nimport { render } from \"react-dom\";\n\nimport Login from \"./components/login\";\nimport Page from \"./components/page\";\n\nconst gatewayAddress =\n  \"https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod\";\n\nlet setCookie = (cname, cvalue, exSeconds) => {\n  var d = new Date();\n  d.setTime(d.getTime() + exSeconds * 1000);\n  var expires = \"expires=\" + d.toUTCString();\n  document.cookie =\n    cname +\n    \"=\" +\n    cvalue +\n    \";\" +\n    expires +\n    \"; domain=https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com; samesite=None; secure\";\n};\n\nlet getCookie = (cname) => {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(\";\");\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n};\n\nlet getProfile = async () => {\n  // var myHeaders = new Headers();\n  // myHeaders.append(\"Content-Type\", \"application/json\");\n  // myHeaders.append(\n  //   \"Cookie\",\n  //   \"accessToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZlbGl4Y2hlbjE5OThAZ21haWwuY29tIiwiaWF0IjoxNTk5OTM2MDQ5LCJleHAiOjE1OTk5MzY5NDl9.x5_O_7wl7u4lh9TY9JhwKs7W5DqVYFbyrSJ9mr3z-2s; refreshToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImZlbGl4Y2hlbjE5OThAZ21haWwuY29tIiwiaWF0IjoxNTk5OTM2MDQ5LCJleHAiOjE2MDA1NDA4NDl9.8_zycnH9sOPUinSj9M-LNQ54NFuMkIlBgUBK23lc4YM\"\n  // );\n\n  var requestOptions = {\n    method: \"GET\",\n    headers: { Accept: \"application/json\", \"Content-Type\": \"application/json\" },\n    credentials: \"include\",\n  };\n\n  fetch(\n    \"https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod/user\",\n    requestOptions\n  )\n    .then((response) => response.text())\n    .then((result) => console.log(result))\n    .catch((error) => console.log(\"error\", error));\n};\n\nlet loginButtonClickHandler = async () => {\n  let email = document.getElementById(\"email\").value;\n  let password = document.getElementById(\"password\").value;\n\n  email = \"felixchen1998@gmail.com\";\n  password = \"dude\";\n\n  let payload = { email, password };\n  let options = {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify(payload),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/login`, options);\n  let resopnseText = await response.text();\n  let {\n    success,\n    accessToken,\n    accessTokenExpiry,\n    refreshTokenExpiry,\n    refreshToken,\n  } = JSON.parse(resopnseText);\n\n  console.log(\n    success,\n    accessToken,\n    accessTokenExpiry,\n    refreshTokenExpiry,\n    refreshToken\n  );\n  if (!success) {\n    alert(\"Bad Login\");\n  } else {\n    // setCookie(\"accessToken\", accessToken, accessTokenExpiry);\n    // setCookie(\"refreshToken\", refreshToken, refreshTokenExpiry);\n    render(<Page />, document.getElementById(\"root\"));\n    getProfile();\n  }\n};\n\nrender(\n  <Login handler={loginButtonClickHandler} />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/threetree_90.8428407b.png"},40:function(e,t,a){e.exports=a(52)},47:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(15),o=a(0),l=a.n(o),s=a(72),u=a(11),i=a(58),d=a(70),p=a(59),m=a(60),f=a(61),g=a(69),h=a(71),E=(a(47),a(35)),b=a.n(E),x=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement(i.a,{"aria-label":"header"},l.a.createElement(d.a,{href:"#",prefix:"Web"},"Watcher")),l.a.createElement(p.a,null,l.a.createElement(m.a,null,l.a.createElement(f.a,{id:"leftBox",sm:{span:4,offset:0},md:{span:4,offset:1},lg:{span:4,offset:2}},l.a.createElement("h1",{className:"bx--type-semibold"},"Sign in to your account"),l.a.createElement(g.a,{id:"email",labelText:"Email"}),l.a.createElement(g.a.PasswordInput,{id:"password",labelText:"Password"}),l.a.createElement(h.a,{size:"small",kind:"secondary",onClick:e.signupHandler},"Sign up"),l.a.createElement(h.a,{size:"small",onClick:e.loginHandler},"Log in")),l.a.createElement(f.a,{id:"rightBox",sm:{span:0},md:{span:2},lg:{span:4}},l.a.createElement("img",{src:b.a,alt:"fractel"})))))},y=a(62),w=a(63),k=a(64),v=a(68),O=a(25),T=a(28),j=a(29),B=a(31),P=a(23),S=a(26),I=a(27),H=a(30),N=a(24),C=a(13),J=a(65),W=(a(50),[{id:"a",name:"Load Balancer 3",protocol:"HTTP",port:3e3,rule:"Round robin",attached_groups:"Kevin\u2019s VM Groups",status:"Disabled",enabled:!0},{id:"b",name:"Load Balancer 1",protocol:"HTTP",port:443,rule:"Round robin",attached_groups:"Maureen\u2019s VM Groups",status:"Starting",enabled:!0},{id:"c",name:"Load Balancer 2",protocol:"HTTP",port:80,rule:"DNS delegation",attached_groups:"Andrew\u2019s VM Groups",status:"Active",enabled:!1}]),L=[{key:"name",header:"Name"},{key:"protocol",header:"Protocol"},{key:"port",header:"Port"},{key:"rule",header:"Rule"},{key:"attached_groups",header:"Attached Groups"},{key:"status",header:"Status"},{key:"enabled",header:"Enabled"}],M=function(e){return l.a.createElement("div",{id:"page"},l.a.createElement(y.a,{render:function(t){return t.isSideNavExpanded,t.onClickSideNavExpand,l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{"aria-label":"IBM Platform Name"},l.a.createElement(d.a,{prefix:"Web"},"Watcher"),l.a.createElement(w.a,null,l.a.createElement(k.a,{"aria-label":"Logout",onClick:e.logoutHandler},l.a.createElement(J.a,null)))))}}),l.a.createElement(v.a,{rows:W,headers:L},function(e){var t,a=e.rows,n=e.headers,r=e.getHeaderProps,c=e.getRowProps,o=e.getTableProps,s=e.getToolbarProps,u=e.onInputChange,i=e.getTableContainerProps;return l.a.createElement(O.a,Object.assign({title:"Watchers",description:"With toolbar"},i()),l.a.createElement(T.a,Object.assign({},s(),{"aria-label":"data table toolbar"}),l.a.createElement(j.a,null,l.a.createElement(B.a,{onChange:u}),l.a.createElement(h.a,{onClick:(t="Button click",void console.log(t))},"Add Watcher"))),l.a.createElement(P.a,o(),l.a.createElement(S.a,null,l.a.createElement(I.a,null,n.map(function(e){return l.a.createElement(H.a,Object.assign({key:e.key},r({header:e})),e.header)}))),l.a.createElement(N.a,null,a.map(function(e){return l.a.createElement(I.a,Object.assign({key:e.id},c({row:e})),e.cells.map(function(e){return l.a.createElement(C.a,{key:e.id},e.value)}))}))))}))},_="https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod",A=null,G=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,n,c,o,i,d,p,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,null==a&&(a=document.getElementById("email").value),null==n&&(n=document.getElementById("password").value),Object(u.render)(l.a.createElement(s.a,null),document.getElementById("root")),c={method:"POST",credentials:"include",body:JSON.stringify({email:a,password:n}),headers:{"Content-Type":"application/json"},redirect:"follow"},e.next=7,fetch("".concat(_,"/login"),c);case 7:return o=e.sent,e.next=10,o.text();case 10:if(i=e.sent,d=JSON.parse(i),p=d.success,m=d.accessTokenExpiry,console.log(i),p){e.next=18;break}alert("Bad login"),Object(u.render)(l.a.createElement(x,{signupHandler:z,loginHandler:G}),document.getElementById("root")),e.next=21;break;case 18:return e.next=20,V();case 20:A=setTimeout(D,1e3*(m-2));case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow"},e.next=3,fetch("".concat(_,"/logout"),t);case 3:return a=e.sent,e.next=6,a.text();case 6:return n=e.sent,Object(u.render)(l.a.createElement(x,{signupHandler:z,loginHandler:G}),document.getElementById("root")),clearTimeout(A),e.abrupt("return",JSON.parse(n).success);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("email").value,a=document.getElementById("password").value,Object(u.render)(l.a.createElement(s.a,null),document.getElementById("root")),n={method:"POST",credentials:"include",body:JSON.stringify({email:t,password:a}),headers:{"Content-Type":"application/json"},redirect:"follow"},e.next=6,fetch("".concat(_,"/user"),n);case 6:return c=e.sent,e.next=9,c.text();case 9:o=e.sent,console.log(o),G({email:t,password:a});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={credentials:"include"},e.next=3,fetch("".concat(_,"/user"),t);case 3:return a=e.sent,e.next=6,a.text();case 6:n=e.sent,console.log(JSON.parse(n)),Object(u.render)(l.a.createElement(M,{logoutHandler:R}),document.getElementById("root"));case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,n,c,o,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",credentials:"include"},e.next=3,fetch("".concat(_,"/refresh"),t);case 3:return a=e.sent,e.next=6,a.text();case 6:if(n=e.sent,c=JSON.parse(n),o=c.success,l=c.accessTokenExpiry,o){e.next=13;break}return e.next=11,R();case 11:e.next=14;break;case 13:A=setTimeout(D,1e3*(l-2));case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:if(!e.sent){e.next=7;break}return e.next=7,V();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Initial silent refresh fail "+e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}();Object(u.render)(l.a.createElement(s.a,null),document.getElementById("root")),F()}},[[40,1,2]]]);
//# sourceMappingURL=main.86c7bbbb.chunk.js.map
{"version":3,"sources":["components/threetree_90.png","components/login.js","components/page.js","index.js"],"names":["module","exports","__webpack_require__","p","Login","props","react_default","a","createElement","id","Header","aria-label","HeaderName","href","prefix","Grid","Row","Column","sm","span","offset","md","lg","className","TextInput","labelText","PasswordInput","Button","size","kind","onClick","signupHandler","loginHandler","src","fractel","alt","headers","key","header","Page","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","openModal","setState","addWatcherModalOpen","closeModal","state","_this2","HeaderContainer","render","Fragment","HeaderGlobalBar","HeaderGlobalAction","logoutHandler","bucket_10","DataTable","rows","watchers","_ref","getHeaderProps","getRowProps","getTableProps","getToolbarProps","onInputChange","getTableContainerProps","TableContainer","TableToolbar","assign","TableToolbarContent","TableToolbarSearch","onChange","Table","TableHead","TableRow","map","TableHeader","TableBody","row","cells","value","OverflowMenu","flipped","OverflowMenuItem","itemText","hasDivider","isDelete","cell","TableCell","Modal","hasForm","selectorPrimaryFocus","open","primaryButtonText","secondaryButtonText","shouldSubmitOnEnter","onRequestClose","onSecondarySubmit","placeholder","style","marginBottom","React","Component","gatewayAddress","silentRefreshTimeout","login","_ref2","asyncToGenerator","regenerator_default","mark","_callee","email","password","options","response","responseText","_JSON$parse","success","accessTokenExpiry","wrap","_context","prev","next","document","getElementById","Loading","method","credentials","body","JSON","stringify","Content-Type","redirect","fetch","concat","sent","text","parse","console","log","alert","components_login","signup","getProfile","setTimeout","silentRefresh","stop","_x","apply","arguments","logout","_ref3","_callee2","requestOptions","_context2","clearTimeout","abrupt","_ref4","_callee3","_context3","_ref5","_callee4","_JSON$parse2","_context4","forEach","i","date","Date","setUTCSeconds","last_run","String","components_page","_ref6","_callee5","_JSON$parse3","_context5","initialSilentRefresh","_ref7","_callee6","_context6","t0"],"mappings":"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","file":"static/js/main.4a718ae4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/threetree_90.8428407b.png\";","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  Grid,\n  Row,\n  Column,\n  Button,\n  TextInput,\n} from \"carbon-components-react\";\nimport \"./login.css\";\nimport fractel from \"./threetree_90.png\";\n\nconst Login = (props) => (\n  <div id=\"login\">\n    <Header aria-label=\"header\">\n      <HeaderName href=\"#\" prefix=\"Web\">\n        Watcher\n      </HeaderName>\n    </Header>\n    <Grid>\n      <Row>\n        <Column\n          id=\"leftBox\"\n          sm={{ span: 4, offset: 0 }}\n          md={{ span: 4, offset: 1 }}\n          lg={{ span: 4, offset: 2 }}\n        >\n          <h1 className=\"bx--type-semibold\">Sign in to your account</h1>\n          <TextInput id=\"email\" labelText=\"Email\" />\n          <TextInput.PasswordInput id=\"password\" labelText=\"Password\" />\n          <Button size=\"small\" kind=\"secondary\" onClick={props.signupHandler}>\n            Sign up\n          </Button>\n          <Button size=\"small\" onClick={props.loginHandler}>\n            Log in\n          </Button>\n        </Column>\n        <Column\n          id=\"rightBox\"\n          sm={{ span: 0 }}\n          md={{ span: 2 }}\n          lg={{ span: 4 }}\n        >\n          <img src={fractel} alt=\"fractel\"></img>\n        </Column>\n      </Row>\n    </Grid>\n  </div>\n);\n\nexport default Login;\n","import React from \"react\";\nimport {\n  Header,\n  HeaderName,\n  HeaderContainer,\n  HeaderGlobalBar,\n  HeaderGlobalAction,\n  TableContainer,\n  Table,\n  TableHead,\n  TableRow,\n  TableHeader,\n  TableBody,\n  TableCell,\n  TableToolbar,\n  TableToolbarContent,\n  TableToolbarSearch,\n  DataTable,\n  Button,\n  OverflowMenu,\n  OverflowMenuItem,\n  TextInput,\n  Modal,\n} from \"carbon-components-react\";\nimport { Logout20 } from \"@carbon/icons-react\";\nimport \"./page.css\";\n\nconst headers = [\n  {\n    key: \"url\",\n    header: \"URL\",\n  },\n  {\n    key: \"frequency\",\n    header: \"Frequency\",\n  },\n  {\n    key: \"last_run\",\n    header: \"Last Run\",\n  },\n  {\n    key: \"options\",\n    header: \"\",\n  },\n];\n\nclass Page extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addWatcherModalOpen: false,\n    };\n  }\n\n  openModal = () => {\n    this.setState({\n      addWatcherModalOpen: true,\n    });\n  };\n  closeModal = () => {\n    this.setState({\n      addWatcherModalOpen: false,\n    });\n  };\n\n  render() {\n    return (\n      <div id=\"page\">\n        <HeaderContainer\n          render={() => (\n            <>\n              <Header aria-label=\"IBM Platform Name\">\n                <HeaderName prefix=\"Web\">Watcher</HeaderName>\n                <HeaderGlobalBar>\n                  <HeaderGlobalAction\n                    id=\"logoutIcon\"\n                    aria-label=\"Logout\"\n                    onClick={this.props.logoutHandler}\n                  >\n                    <Logout20 />\n                  </HeaderGlobalAction>\n                </HeaderGlobalBar>\n              </Header>\n            </>\n          )}\n        />\n\n        <DataTable rows={this.props.watchers} headers={headers}>\n          {({\n            rows,\n            headers,\n            getHeaderProps,\n            getRowProps,\n            getTableProps,\n            getToolbarProps,\n            onInputChange,\n            getTableContainerProps,\n          }) => (\n            <TableContainer\n              // title={`Hello ${props.email}`}\n              // description={`Welcome ${props.email}`}\n              {...getTableContainerProps()}\n            >\n              <TableToolbar\n                {...getToolbarProps()}\n                aria-label=\"data table toolbar\"\n              >\n                <TableToolbarContent>\n                  <TableToolbarSearch onChange={onInputChange} />\n                  <Button onClick={this.openModal}>Add Watcher</Button>\n                </TableToolbarContent>\n              </TableToolbar>\n              <Table {...getTableProps()}>\n                <TableHead>\n                  <TableRow>\n                    {headers.map((header) => (\n                      <TableHeader\n                        key={header.key}\n                        {...getHeaderProps({ header })}\n                      >\n                        {header.header}\n                      </TableHeader>\n                    ))}\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {rows.map((row) => {\n                    row.cells[3].value = (\n                      <OverflowMenu flipped={true}>\n                        <OverflowMenuItem itemText=\"Edit\" />\n                        <OverflowMenuItem\n                          itemText=\"Delete\"\n                          hasDivider\n                          isDelete\n                        />\n                      </OverflowMenu>\n                    );\n                    return (\n                      <TableRow key={row.id} {...getRowProps({ row })}>\n                        {row.cells.map((cell) => (\n                          <TableCell key={cell.id}>{cell.value}</TableCell>\n                        ))}\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          )}\n        </DataTable>\n        <Modal\n          hasForm\n          size={\"sm\"}\n          selectorPrimaryFocus=\"#text-input-2\"\n          open={this.state.addWatcherModalOpen}\n          primaryButtonText={\"Add\"}\n          secondaryButtonText={\"Cancel\"}\n          shouldSubmitOnEnter={true}\n          onRequestClose={this.closeModal}\n          onSecondarySubmit={this.closeModal}\n        >\n          <TextInput\n            id=\"text-input-1\"\n            labelText=\"URL\"\n            placeholder=\"https://www.google.com/\"\n            style={{ marginBottom: \"1rem\" }}\n          />\n          <TextInput\n            id=\"text-input-2\"\n            labelText=\"Frequency (seconds)\"\n            placeholder=\"60\"\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Page;\n","import React from \"react\";\nimport { Loading } from \"carbon-components-react\";\nimport { render } from \"react-dom\";\n\nimport Login from \"./components/login\";\nimport Page from \"./components/page\";\n\nconst gatewayAddress =\n  \"https://bwaexdxnvc.execute-api.us-east-2.amazonaws.com/prod\";\nlet silentRefreshTimeout = null;\n\nlet login = async ({ email, password }) => {\n  if (email == null) {\n    email = document.getElementById(\"email\").value;\n  }\n  if (password == null) {\n    password = document.getElementById(\"password\").value;\n  }\n\n  render(<Loading />, document.getElementById(\"root\"));\n\n  let options = {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ email, password }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/login`, options);\n  let responseText = await response.text();\n  let { success, accessTokenExpiry } = JSON.parse(responseText);\n\n  console.log(responseText);\n  if (!success) {\n    alert(\"Login failed: username/password error\");\n    render(\n      <Login signupHandler={signup} loginHandler={login} />,\n      document.getElementById(\"root\")\n    );\n  } else {\n    await getProfile();\n    silentRefreshTimeout = setTimeout(\n      silentRefresh,\n      (accessTokenExpiry - 2) * 1000\n    );\n  }\n};\n\nlet logout = async () => {\n  var requestOptions = {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/logout`, requestOptions);\n  let responseText = await response.text();\n  render(\n    <Login signupHandler={signup} loginHandler={login} />,\n    document.getElementById(\"root\")\n  );\n\n  // Stop silent refresh\n  clearTimeout(silentRefreshTimeout);\n\n  return JSON.parse(responseText).success;\n};\n\nlet signup = async () => {\n  let email = document.getElementById(\"email\").value;\n  let password = document.getElementById(\"password\").value;\n\n  render(<Loading />, document.getElementById(\"root\"));\n\n  let options = {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify({ email, password }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/user`, options);\n  let responseText = await response.text();\n  console.log(responseText);\n\n  login({ email, password });\n};\n\nlet getProfile = async () => {\n  var requestOptions = {\n    credentials: \"include\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/user`, requestOptions);\n  let responseText = await response.text();\n\n  let { email, watchers } = JSON.parse(responseText);\n  // Cleanup Date\n  watchers.forEach((i) => {\n    let date = new Date(0);\n    date.setUTCSeconds(i.last_run);\n    i.last_run = String(date);\n  });\n\n  render(\n    <Page logoutHandler={logout} email={email} watchers={watchers} />,\n    document.getElementById(\"root\")\n  );\n};\n\nlet silentRefresh = async () => {\n  let requestOptions = {\n    method: \"POST\",\n    credentials: \"include\",\n  };\n\n  let response = await fetch(`${gatewayAddress}/refresh`, requestOptions);\n  let responseText = await response.text();\n  let { success, accessTokenExpiry } = JSON.parse(responseText);\n\n  // If something is wrong with refresh token.. we logout\n  if (!success) {\n    await logout();\n  } else {\n    // Start silent refresh a couple seconds early... so we always have an access token\n    silentRefreshTimeout = setTimeout(\n      silentRefresh,\n      (accessTokenExpiry - 2) * 1000\n    );\n    await getProfile();\n  }\n\n  return success;\n};\n\nlet initialSilentRefresh = async () => {\n  try {\n    let success = await silentRefresh();\n\n    // if (success) {\n    //   await getProfile();\n    // }\n  } catch (err) {\n    console.log(\"Initial silent refresh fail \" + err);\n  }\n};\n\nrender(<Loading />, document.getElementById(\"root\"));\ninitialSilentRefresh();\n"],"sourceRoot":""}